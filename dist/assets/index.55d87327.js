import{S as e,P as o,G as n,W as t,a as i,M as r,b as s,c as a,A as c,d,O as l,C as w,V as u,B as p,L as m,e as f,f as y,E as h,g as v}from"./vendor.6324de16.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&o(e)})).observe(document,{childList:!0,subtree:!0})}function o(e){if(e.ep)return;e.ep=!0;const o=function(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?o.credentials="include":"anonymous"===e.crossorigin?o.credentials="omit":o.credentials="same-origin",o}(e);fetch(e.href,o)}}();class g{constructor(e){this.car=e,this.carPosition=new u,P.add(this.car)}MoveCarOnRoad(e){const o=performance.now()-F;B+=W,B%=1,T.carPosition.copy(e.getPointAt(B)),T.carPosition.y+=.7,T.carPosition.x+=-3,T.car.position.copy(T.carPosition),q.copy(e.getTangentAt(B)),W-=1e-7*q.y*o,W=Math.max(5e-4,Math.min(2e-4,W)),T.car.lookAt(N.copy(T.carPosition).sub(q))}}const P=new e,b=new o(75,window.innerWidth/window.innerHeight,.1,1e3);var x=new class{Update(e){var o=new u;o.y=e.position.y+10,o.z=e.position.z+10,o.x=e.position.x,b.position.lerp(o,.2)}};const M=new n,R=new t({canvas:document.querySelector("#bg")});R.setPixelRatio(window.devicePixelRatio),R.setSize(window.innerWidth,window.innerHeight),b.position.setZ(40),b.position.setY(20),R.render(P,b);const A=new i(30,40),C=new r({color:16737095}),L=new s(A,C);var T;L.position.setY(-.1),L.rotation.x=-.5*Math.PI,M.load("car.glb",(function(e){T=new g(e.scene)})),new u;const k=new a(16777215);k.position.set(5,5,5);const z=new c(16777215);P.add(k,z);const E=new d(200,50);P.add(E),new l(b,R.domElement),b.rotation.x=-.7;const O=new w([new u(0,0,0),new u(10,0,20),new u(-10,0,40),new u(10,0,60),new u(-10,0,80),new u(10,0,100)]);O.type="chordal",O.closed=!1;var S=new class{constructor(e){this.curve=e}CreateRoad(){const e=this.curve.getPoints(80),o=(new p).setFromPoints(e),n=new m({color:16777215}),t=new f(o,n);P.add(t);var i={steps:100,bevelEnabled:!0,extrudePath:this.curve,bevelThickness:0},r=new y;r.moveTo(0,0),r.lineTo(0,-5),r.lineTo(0,5);var a=new h(r,i),c=new v({color:4606285,wireframe:!1}),d=new s(a,c);P.add(d)}}(O);S.CreateRoad(O),document.body.onscroll=function(){const e=document.body.getBoundingClientRect().top;T.position.z=.01*-e};const q=new u,N=new u;let W=0,B=0,F=performance.now();!function e(){requestAnimationFrame(e),T.MoveCarOnRoad(S.curve),R.render(P,b),x.Update(T.car)}();
